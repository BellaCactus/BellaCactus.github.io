<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>color palette picker</title>
  <link rel="icon" type="image/png" href="../media/favicon.png" />

  <style>
    :root{
      --bg:#070707;
      --bg2:#0b0b0b;
      --panel: rgba(255,255,255,0.055);
      --panel2: rgba(255,255,255,0.03);
      --border: rgba(255,255,255,0.10);

      --text:#f7f7f7;
      --muted:#b9b9c2;

      --accent:#b072ff;
      --accent2:#d7a7ff;

      --shadow: 0 20px 70px rgba(0,0,0,0.55);
      --radius:16px;

      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
    }

    [data-theme="light"]{
      --bg:#f4f4f7;
      --bg2:#ffffff;
      --panel: rgba(0,0,0,0.04);
      --panel2: rgba(0,0,0,0.02);
      --border: rgba(0,0,0,0.10);
      --text:#0f0f14;
      --muted:#4f5360;
      --shadow: 0 22px 70px rgba(0,0,0,0.18);
    }

    *{box-sizing:border-box;}
    html,body{height:100%;}
    body{
      margin:0;
      color:var(--text);
      font-family: var(--sans);
      line-height:1.55;
      overflow-x:hidden;
      background:
        radial-gradient(900px 600px at 20% 10%, color-mix(in srgb, var(--accent) 24%, transparent), transparent 55%),
        radial-gradient(900px 650px at 90% 30%, color-mix(in srgb, var(--accent2) 18%, transparent), transparent 58%),
        linear-gradient(180deg, var(--bg), var(--bg2));
    }

    a{color:var(--accent); text-decoration:none;}
    a:hover{text-decoration:underline;}

    .bgWrap{position:fixed; inset:0; z-index:0; pointer-events:none;}
    .bgImg{position:absolute; inset:0; background-size:cover; background-position:center; opacity:0; transition:opacity .25s ease;}
    .bgImg.on{opacity:1;}
    .bgDim{position:absolute; inset:0; background:rgba(0,0,0,0.35); transition:background .2s ease;}
    [data-theme="light"] .bgDim{background:rgba(255,255,255,0.35);}

    .wrap{
      max-width:1100px;
      margin:0 auto;
      padding:40px 16px 96px;
      position:relative;
      z-index:2;
    }

    .top{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:14px;
      margin-bottom:18px;
      flex-wrap:wrap;
    }
    .brand{display:flex; align-items:center; gap:14px; min-width:0;}
    .badge{
      width:56px; height:56px; border-radius:14px;
      background: linear-gradient(180deg, color-mix(in srgb, var(--accent) 24%, transparent), color-mix(in srgb, var(--accent) 8%, transparent));
      border:1px solid color-mix(in srgb, var(--accent) 28%, transparent);
      display:grid; place-items:center;
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .badge span{font-family:var(--mono); font-weight:800; letter-spacing:.5px; font-size:14px; color:var(--text); opacity:.92;}
    h1{margin:0; font-size:1.9rem; letter-spacing:.4px;}
    .sub{margin:5px 0 0; color:var(--muted); font-size:0.98rem; max-width:680px;}
    .chips{display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end;}
    .chip{
      display:flex; align-items:center; gap:8px;
      padding:8px 10px;
      border-radius:999px;
      background: var(--panel);
      border:1px solid var(--border);
      backdrop-filter: blur(10px);
      box-shadow: 0 16px 40px rgba(0,0,0,0.18);
      font-size:0.92rem;
    }
    .dot{width:8px; height:8px; border-radius:50%; background:var(--accent); box-shadow: 0 0 0 5px color-mix(in srgb, var(--accent) 22%, transparent);}

    .grid{display:grid; grid-template-columns: 380px 1fr; gap:16px; align-items:start;}
    @media (max-width: 980px){ .grid{grid-template-columns: 1fr;} }

    .panel{
      background: var(--panel);
      border:1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      backdrop-filter: blur(12px);
      overflow:hidden;
    }
    .panelTitle{
      display:flex; align-items:flex-end; justify-content:space-between; gap:12px;
      padding:14px 16px;
      border-bottom:1px solid var(--border);
      background: linear-gradient(180deg, var(--panel2), transparent);
    }
    .panelTitle h2{margin:0; font-size:1.05rem; letter-spacing:.3px;}
    .small{color:var(--muted); font-size:.92rem;}
    .panelInner{padding:14px 16px 16px;}

    label{display:block; font-size:.88rem; color:var(--muted); margin:0 0 6px;}
    input, select, textarea{
      width:100%;
      padding:10px 10px;
      border-radius:12px;
      border:1px solid var(--border);
      background: color-mix(in srgb, var(--panel) 72%, transparent);
      color:var(--text);
      outline:none;
      font-family: var(--sans);
    }
    input[type="file"]{padding:9px;}
    input::placeholder, textarea::placeholder{color: color-mix(in srgb, var(--muted) 80%, transparent);}
    input[type="color"]{padding:0; height:42px; border-radius:12px;}

    .row{display:grid; grid-template-columns: 1fr 1fr; gap:10px; margin-bottom:10px;}
    @media (max-width: 980px){ .row{grid-template-columns: 1fr;} }

    .btnRow{display:flex; gap:10px; flex-wrap:wrap; margin-top:10px;}
    button{
      border:1px solid var(--border);
      background: color-mix(in srgb, var(--panel) 78%, transparent);
      color:var(--text);
      padding:10px 12px;
      border-radius:12px;
      cursor:pointer;
      box-shadow: 0 14px 45px rgba(0,0,0,0.18);
      transition: transform .08s ease, border-color .2s ease, background .2s ease;
    }
    button:hover{border-color: color-mix(in srgb, var(--accent) 45%, var(--border));}
    button:active{transform: translateY(1px);}
    button.primary{
      background: linear-gradient(180deg, color-mix(in srgb, var(--accent) 34%, transparent), color-mix(in srgb, var(--accent) 16%, transparent));
      border-color: color-mix(in srgb, var(--accent) 52%, transparent);
    }
    button:disabled{opacity:.55; cursor:not-allowed; transform:none;}
    .k{font-family:var(--mono); font-weight:800; letter-spacing:.4px; color:var(--accent);}
    .mutedNote{color:var(--muted); font-size:.92rem; margin-top:10px;}
    .toast{margin-top:10px; font-size:.92rem; color:var(--muted); min-height:1.2em;}
    .toast strong{color:var(--text);}

    .preview{
      width:100%;
      border-radius: 14px;
      border:1px solid var(--border);
      background: color-mix(in srgb, var(--panel) 70%, transparent);
      overflow:hidden;
      box-shadow: 0 16px 50px rgba(0,0,0,0.18);
    }
    .preview img{di
